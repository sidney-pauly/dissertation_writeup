\documentclass[a4paper]{report}
\usepackage[utf8]{inputenc}
\usepackage{graphicx} % Required for inserting images
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{bookmark}
\usepackage{booktabs}
\usepackage{titlesec}
% \usepackage[T1]{fontenc}
% \usepackage{pgfplots} 
% \usepackage[myheadings]{fullpage}
\usepackage{tikz}
\usetikzlibrary{positioning}
\usetikzlibrary{calc} 
\usetikzlibrary{shapes.geometric}  % Required for regular polygons
\usetikzlibrary{decorations.pathmorphing}  % Enables zigzag paths
\usetikzlibrary{decorations.text}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{intersections}
\usetikzlibrary{arrows.meta} 
\usepackage{hyperref}
\usepackage{float}
\usepackage{fancyhdr}
\usepackage{array}
% \usepackage{enumitem}
% \usepackage{changepage}
\usepackage{subcaption} % loads the caption package
\usepackage{import}
\usepackage{geometry}
\usepackage{adjustbox}
\usepackage[margin=1cm]{caption}
\usepackage[style=vancouver]{biblatex}
\usepackage{algorithm2e}

%Algorithm2e settings
\LinesNumbered
\SetAlgoNoEnd
\SetAlgoVlined
\DontPrintSemicolon
\SetAlgoSkip{medskip}
\SetCustomAlgoRuledWidth{.7\linewidth}
\SetAlCapSkip{5mm}
% \SetFuncSty{\textcolor{blue}{\textbf{#1}}} 
% \newcommand{\mycapfn}[1]{\textcolor{blue}{\textbf{#1}}}\SetFuncSty{mycapfnt}
% \newcommand{\myargfn}[1]{\textcolor{green}{\emph{#1}}}\SetFuncArgSty{myargfn}
% \SetAlFnt{\texttt}

\addbibresource{all.bib}

\setlength{\parindent}{0px}
\pagestyle{fancy}

\geometry{
  a4paper,
  %total={170mm,257mm},
  left=25mm,
  right=25mm,
  top=20mm,
}

% Header and footer information
\fancyhf{}
% \setlength\headheight{15pt}
% \fancyhead[L]{} 
% \fancyhead[R]{}
\fancyfoot[R]{\thepage}

\newcommand{\HRule}[1]{\rule{\linewidth}{#1}}

\titleformat{\chapter}[display]%
{\bfseries\Large}%
{}%
{0ex}%
{\titlerule\vspace{1ex}\filleft}%
[\vspace{1ex}\titlerule]

% \title{Optimizing switch states in distribution grids}
\author{Sidney Pauly}

% \graphicspath{img/ABDN.png}
\begin{document}

% \begin{titlepage}
% 	\begin{center}
% 		\includegraphics[width=50mm]{img/ABDN.png}\\[.5cm]
% 		School of Natural and Computing Sciences\\
% 		\HRule{2pt} \\
% 		\LARGE \textbf{Optimizing switch states in distribution grids}
% 		\HRule{2pt} \\ [0.5cm]
% 	\end{center}
% \end{titlepage}

\title{ UNIVERSITY OF ABERDEEN
		\\ [1.0cm]
		% Change to your faculty if needed
		\includegraphics[width=50mm]{img/ABDN.png}\\[.5cm]
		School of Natural and Computing Sciences\\
		\HRule{2pt} \\
		\LARGE \textbf{Optimizing switch states in distribution grids}
		\HRule{2pt} \\ [0.5cm]
		\normalsize \today\vspace*{5\baselineskip}}%
		
\maketitle

\tableofcontents

\clearpage

\chapter{Introduction}

% \section{Introduction}

\input{sections/introduction/introduction.tex}

\section{Existing Literature}

\input{sections/introduction/existing_literature.tex}

\section{The need for a switch state score}

\input{sections/introduction/switch_state.tex}

\section{Study case}

\input{sections/introduction/study-case.tex}

\chapter{Theory}

% \import{sections/theory/}{ac-basics.tex}

\section{AC Basics}

\input{sections/theory/ac-basics.tex}

\section{Powerflow}

\input{sections/theory/pf.tex}

\section{Graph theory}

\input{sections/theory/graph-theory.tex}

\chapter{Methods}

\section{Data available through VEP}

\input{sections/methods/vep.tex}

\section{Powerflow algorthms}

\input{sections/methods/pf.tex}

\section{Creating valid switch states: a graph partitioning problem}

\input{sections/methods/switchstate_explorer.tex}

% Explain constraints: exactly one trafo per gird, no unconnected nodes 
% Metion literature: anchored graph partitioning

% Expalin algorithm:
% Explain random element

\section{Grid measures}

\input{sections/methods/measures.tex}

\section{Simulated annealing}

\input{sections/methods/simulated_annealing.tex}

\chapter{Results}

\section{Preparing the grid data}

\input{sections/results/data_preperation.tex}

\section{Generating a switch state}

\input{sections/results/switch_state_generators.tex}

\section{Scoring a switch state}

\input{sections/results/scoring_switchstate.tex}

\section{Fast powerflow}

\input{sections/results/pf.tex}

\section{Good case: suburban grid}

\input{sections/results/suburban_grid.tex}

\section{Simulated annealing}

\input{sections/results/simulated_annealing.tex}

% Show distributions of pre-powerflow data (perhaps per grid)

\section{Bad case: urban grid}

\section{Changing laod data over time}

\section{Wider sampling?}

\chapter{Appendix}

\section{Venios API}\label{sec:appendix:api}

\input{sections/appendix/vep_api.tex}

\printbibliography

\end{document}